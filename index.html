<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flipbook Responsif</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: #333;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
            width: 100%;
        }

        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto 20px;
        }

        .flipbook-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 40px;
            perspective: 1500px;
            width: 100%;
        }

        .flipbook {
            width: 90%;
            max-width: 900px;
            height: 500px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.8s;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            border-radius: 5px;
        }

        .page {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            transform-origin: left;
            transform-style: preserve-3d;
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 5px;
            overflow: hidden;
            background-color: white;
            cursor: pointer;
        }

        .page-front, .page-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            background-size: cover;
            background-position: center;
        }

        .page-front {
            background-color: #f9f9f9;
        }

        .page-back {
            transform: rotateY(180deg);
        }

        .page-content {
            padding: 30px;
            text-align: center;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .page-number {
            position: absolute;
            bottom: 15px;
            right: 15px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 5px 10px;
            border-radius: 3px;
            font-size: 0.9rem;
        }

        .controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .btn {
            background-color: #2c3e50;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .btn:hover {
            background-color: #1a252f;
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }

        .btn:disabled {
            background-color: #95a5a6;
            cursor: not-allowed;
            transform: none;
        }

        .page-info {
            font-size: 1.3rem;
            color: white;
            font-weight: bold;
            min-width: 120px;
            text-align: center;
        }

        .configuration {
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            padding: 25px;
            width: 100%;
            max-width: 900px;
            margin-bottom: 40px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .configuration h2 {
            margin-bottom: 20px;
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }

        .config-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .config-item {
            display: flex;
            flex-direction: column;
        }

        label {
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }

        input {
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        input:focus {
            border-color: #3498db;
            outline: none;
        }

        .instructions {
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            padding: 25px;
            width: 100%;
            max-width: 900px;
            margin-bottom: 20px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .instructions h2 {
            margin-bottom: 15px;
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }

        .instructions ol {
            padding-left: 20px;
            margin-bottom: 20px;
        }

        .instructions li {
            margin-bottom: 10px;
            line-height: 1.5;
        }

        .code-example {
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            overflow-x: auto;
            margin-top: 10px;
        }

        .footer {
            color: white;
            text-align: center;
            padding: 20px;
            width: 100%;
            margin-top: auto;
        }

        /* Responsive styles */
        @media (max-width: 992px) {
            .flipbook {
                height: 450px;
            }
            
            h1 {
                font-size: 2.4rem;
            }
        }

        @media (max-width: 768px) {
            .flipbook {
                height: 400px;
                width: 95%;
            }
            
            .controls {
                gap: 10px;
            }
            
            .btn {
                padding: 10px 20px;
                font-size: 1rem;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .subtitle {
                font-size: 1rem;
            }
        }

        @media (max-width: 576px) {
            .flipbook {
                height: 350px;
            }
            
            .config-group {
                grid-template-columns: 1fr;
            }
            
            .page-number {
                font-size: 0.8rem;
                padding: 3px 7px;
            }
            
            .btn-text {
                display: none;
            }
            
            .btn {
                padding: 12px;
            }
            
            .btn i {
                margin: 0;
            }
        }

        /* Animation for page turning */
        @keyframes pageTurn {
            0% { transform: rotateY(0); }
            100% { transform: rotateY(-180deg); }
        }

        .page.turning {
            animation: pageTurn 0.8s forwards;
        }

        .cover {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f);
            color: white;
        }

        .cover .page-content h2 {
            font-size: 2.5rem;
            margin-bottom: 20px;
        }

        .cover .page-content p {
            font-size: 1.2rem;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Flipbook Responsif</h1>
            <p class="subtitle">Flipbook interaktif dengan gambar yang dapat disesuaikan. Upload ke GitHub Pages dengan mudah dan tampil optimal di semua perangkat.</p>
        </header>
        
        <div class="flipbook-container">
            <div class="flipbook" id="flipbook">
                <!-- Pages will be generated by JavaScript -->
            </div>
        </div>
        
        <div class="controls">
            <button class="btn" id="prevBtn" disabled>
                <i class="fas fa-chevron-left"></i>
                <span class="btn-text">Halaman Sebelumnya</span>
            </button>
            
            <div class="page-info">
                Halaman: <span id="currentPage">1</span> dari <span id="totalPages">10</span>
            </div>
            
            <button class="btn" id="nextBtn">
                <span class="btn-text">Halaman Berikutnya</span>
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>
        
        <div class="configuration">
            <h2>Konfigurasi Flipbook</h2>
            <div class="config-group">
                <div class="config-item">
                    <label for="imagePrefix">Prefiks Nama File Gambar:</label>
                    <input type="text" id="imagePrefix" value="page" placeholder="Contoh: page, gambar, slide">
                </div>
                <div class="config-item">
                    <label for="imageExtension">Ekstensi Gambar:</label>
                    <input type="text" id="imageExtension" value="webp" placeholder="Contoh: webp, jpg, png">
                </div>
                <div class="config-item">
                    <label for="totalPages">Jumlah Halaman:</label>
                    <input type="number" id="totalPagesInput" value="10" min="2" max="50">
                </div>
            </div>
            <button class="btn" id="applyConfig">
                <i class="fas fa-sync-alt"></i>
                <span>Terapkan Konfigurasi</span>
            </button>
        </div>
        
        <div class="instructions">
            <h2>Cara Menggunakan</h2>
            <ol>
                <li>Unggah gambar Anda ke repository GitHub dengan pola penamaan: <strong>[prefix][nomor].[ekstensi]</strong> (contoh: page1.webp, page2.webp, dst.)</li>
                <li>Ubah pengaturan di atas sesuai dengan file gambar Anda (prefiks, ekstensi, dan jumlah halaman).</li>
                <li>Klik "Terapkan Konfigurasi" untuk memperbarui flipbook dengan gambar baru.</li>
                <li>Gunakan tombol navigasi atau klik pada sudut halaman untuk membalik halaman.</li>
                <li>Untuk mengupload ke GitHub Pages, simpan file ini sebagai index.html di repository Anda.</li>
            </ol>
            <p><strong>Contoh struktur file di GitHub:</strong></p>
            <div class="code-example">
                repository/<br>
                ├── index.html (file ini)<br>
                ├── page1.webp<br>
                ├── page2.webp<br>
                ├── page3.webp<br>
                └── ...
            </div>
        </div>
    </div>
    
    <footer class="footer">
        <p>Flipbook Responsif &copy; 2023 - Dapat diunggah ke GitHub Pages</p>
    </footer>

    <script>
        // Flipbook state
        let currentPage = 1;
        let totalPages = 10;
        let imagePrefix = "page";
        let imageExtension = "webp";
        let isAnimating = false;

        // DOM elements
        const flipbook = document.getElementById('flipbook');
        const currentPageElement = document.getElementById('currentPage');
        const totalPagesElement = document.getElementById('totalPages');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const applyConfigBtn = document.getElementById('applyConfig');

        // Initialize flipbook
        function initFlipbook() {
            // Clear existing pages
            flipbook.innerHTML = '';
            
            // Create pages
            for (let i = 1; i <= totalPages; i++) {
                createPage(i);
            }
            
            // Update page info
            updatePageInfo();
            updateButtons();
            
            // Show first page
            showPage(currentPage);
        }

        // Create a page element
        function createPage(pageNum) {
            const page = document.createElement('div');
            page.className = 'page';
            page.dataset.page = pageNum;
            
            // Create front side
            const front = document.createElement('div');
            front.className = 'page-front';
            
            // Create back side
            const back = document.createElement('div');
            back.className = 'page-back';
            
            // For cover page
            if (pageNum === 1) {
                front.classList.add('cover');
                front.innerHTML = `
                    <div class="page-content">
                        <h2>Flipbook Responsif</h2>
                        <p>Halaman ${pageNum}</p>
                        <p>Klik sudut kanan untuk membalik</p>
                    </div>
                `;
            } else {
                // Set background image for front side
                const frontImageUrl = `${imagePrefix}${pageNum}.${imageExtension}`;
                front.style.backgroundImage = `url('${frontImageUrl}')`;
                
                // Add page number
                const pageNumber = document.createElement('div');
                pageNumber.className = 'page-number';
                pageNumber.textContent = pageNum;
                front.appendChild(pageNumber);
            }
            
            // For last page
            if (pageNum === totalPages) {
                back.classList.add('cover');
                back.innerHTML = `
                    <div class="page-content">
                        <h2>Akhir Flipbook</h2>
                        <p>Halaman ${pageNum}</p>
                        <p>Klik sudut kiri untuk kembali</p>
                    </div>
                `;
            } else {
                // Set background image for back side (next page's front)
                const nextPageNum = pageNum + 1;
                const backImageUrl = `${imagePrefix}${nextPageNum}.${imageExtension}`;
                back.style.backgroundImage = `url('${backImageUrl}')`;
                
                // Add page number
                const pageNumber = document.createElement('div');
                pageNumber.className = 'page-number';
                pageNumber.textContent = nextPageNum;
                back.appendChild(pageNumber);
            }
            
            // Add click event for page turning
            page.addEventListener('click', (e) => {
                const rect = page.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const width = rect.width;
                
                // Click on right side to go forward
                if (x > width / 2 && currentPage === pageNum) {
                    nextPage();
                }
                // Click on left side to go backward
                else if (x <= width / 2 && currentPage === pageNum + 1) {
                    prevPage();
                }
            });
            
            page.appendChild(front);
            page.appendChild(back);
            flipbook.appendChild(page);
        }

        // Show specific page
        function showPage(pageNum) {
            // Hide all pages
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => {
                page.style.zIndex = 0;
                page.classList.remove('turning');
            });
            
            // Show current page
            const currentPageElement = document.querySelector(`.page[data-page="${pageNum}"]`);
            if (currentPageElement) {
                currentPageElement.style.zIndex = 10;
            }
            
            // Show previous page for turning effect
            if (pageNum > 1) {
                const prevPageElement = document.querySelector(`.page[data-page="${pageNum - 1}"]`);
                if (prevPageElement) {
                    prevPageElement.style.zIndex = 9;
                }
            }
        }

        // Go to next page
        function nextPage() {
            if (currentPage < totalPages && !isAnimating) {
                isAnimating = true;
                const pageElement = document.querySelector(`.page[data-page="${currentPage}"]`);
                
                // Add turning animation
                pageElement.classList.add('turning');
                
                // After animation completes
                setTimeout(() => {
                    currentPage++;
                    updatePageInfo();
                    updateButtons();
                    showPage(currentPage);
                    
                    // Reset animation
                    pageElement.classList.remove('turning');
                    isAnimating = false;
                }, 800);
            }
        }

        // Go to previous page
        function prevPage() {
            if (currentPage > 1 && !isAnimating) {
                isAnimating = true;
                const pageElement = document.querySelector(`.page[data-page="${currentPage - 1}"]`);
                
                // Reset turning animation
                pageElement.classList.remove('turning');
                void pageElement.offsetWidth; // Trigger reflow
                
                // After reset
                setTimeout(() => {
                    currentPage--;
                    updatePageInfo();
                    updateButtons();
                    showPage(currentPage);
                    isAnimating = false;
                }, 50);
            }
        }

        // Update page info display
        function updatePageInfo() {
            currentPageElement.textContent = currentPage;
            totalPagesElement.textContent = totalPages;
        }

        // Update button states
        function updateButtons() {
            prevBtn.disabled = currentPage <= 1;
            nextBtn.disabled = currentPage >= totalPages;
        }

        // Apply new configuration
        function applyConfiguration() {
            const newPrefix = document.getElementById('imagePrefix').value.trim() || "page";
            const newExtension = document.getElementById('imageExtension').value.trim() || "webp";
            const newTotalPages = parseInt(document.getElementById('totalPagesInput').value) || 10;
            
            // Validate total pages
            if (newTotalPages < 2) {
                alert("Jumlah halaman minimal 2");
                return;
            }
            
            if (newTotalPages > 50) {
                alert("Jumlah halaman maksimal 50");
                return;
            }
            
            // Update configuration
            imagePrefix = newPrefix;
            imageExtension = newExtension;
            totalPages = newTotalPages;
            
            // Reset to first page
            currentPage = 1;
            
            // Reinitialize flipbook
            initFlipbook();
            
            // Show success message
            alert(`Konfigurasi diterapkan!\nPrefiks: ${imagePrefix}\nEkstensi: ${imageExtension}\nJumlah halaman: ${totalPages}`);
        }

        // Event listeners
        prevBtn.addEventListener('click', prevPage);
        nextBtn.addEventListener('click', nextPage);
        applyConfigBtn.addEventListener('click', applyConfiguration);

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                nextPage();
            } else if (e.key === 'ArrowLeft') {
                prevPage();
            }
        });

        // Initialize on load
        document.addEventListener('DOMContentLoaded', initFlipbook);
    </script>
</body>
</html>