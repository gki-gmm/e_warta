<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
  <title>Warta Jemaat Digital</title>
</head>

<body>

  <div id="loader">Sedang memuat Warta Jemaat...</div>

  <div class="flipbook">
    <div><img src="images/cover1.webp" alt="" /></div>
    
    <div class="hard"><img src="images/cover2.webp" alt="" /></div>
    
    <div><img src="images/page1.webp" alt="" /></div>
    <div><img src="images/page2.webp" alt="" /></div>
    <div><img src="images/page3.webp" alt="" /></div>
    <div><img src="images/page4.webp" alt="" /></div>
    <div><img src="images/page5.webp" alt="" /></div>
    <div><img src="images/page6.webp" alt="" /></div>
    <div><img src="images/page7.webp" alt="" /></div>
    <div><img src="images/page8.webp" alt="" /></div>
    <div><img src="images/page9.webp" alt="" /></div>
    <div><img src="images/page10.webp" alt="" /></div>
    <div><img src="images/page11.webp" alt="" /></div>
    <div><img src="images/page12.webp" alt="" /></div>
    
    <div class="hard"><img src="images/back2.webp" alt="" /></div>
    
    </div>

  <script src="jquery.js"></script>
  <script src="turn.js"></script>
  
  <script>
    // Tunggu sampai SELURUH gambar & resource selesai dimuat
    $(window).on('load', function() {
      
      // 1. Sembunyikan loader
      $("#loader").fadeOut();
      
      // 2. Munculkan Flipbook
      $(".flipbook").css("visibility", "visible").hide().fadeIn(1000);

      // 3. Jalankan Turn.js
      $(".flipbook").turn({
        width: 960,  // Lebar total (2 halaman)
        height: 680, // Tinggi
        
        autoCenter: true,
        acceleration: true, // Wajib TRUE agar tidak patah-patah
        gradients: true,    // Efek bayangan kertas saat ditekuk
        elevation: 50,      // Efek ketinggian tumpukan kertas
        duration: 1200,     // Kecepatan animasi (ms)
        
        when: {
          // Menambahkan logika agar suara kertas bisa ditambahkan nanti di sini
          turning: function(event, page, view) {
            console.log("Membuka halaman: " + page);
          }
        }
      });

      // 4. Navigasi Klik (Kiri/Kanan)
      $(".flipbook").click(function(e) {
        var offset = $(this).offset();
        // Area klik: Jika klik di 30% area kiri -> Mundur, sisanya -> Maju
        // Ini lebih intuitif daripada strictly 50%
        if (e.pageX - offset.left < $(this).width() * 0.3) {
           $(this).turn("previous");
        } else if (e.pageX - offset.left > $(this).width() * 0.7) {
           $(this).turn("next");
        }
      });
      
      // 5. Navigasi Keyboard
      $(document).keydown(function(e){
        if (e.keyCode == 37) $('.flipbook').turn('previous');
        if (e.keyCode == 39) $('.flipbook').turn('next');
      });

    });
  </script>
</body>
</html>